<!-- templates/customers/account.liquid -->

<section>
  <div 
    class="
      py-12
      {{ settings.x_margin }}
    ">

    {% comment %} Heading {% endcomment %}
    <div class="flex flex-col w-full gap-4 pb-4 border--b-width color__border-divider-1">
      <h1>
        {{ 'labels.account' | t }}
      </h1>
    </div>

    {% comment %} Logout {% endcomment %}
    <div class="flex items-end justify-between gap-4 border--b-width color__border-divider-1">
      <div class="flex items-center gap-2 py-4">
        <div class="flex items-center justify-center w-10 h-10 rounded-full color__bg-shade-2">
          {{ customer.first_name | truncate: 1, '' | upcase }}
        </div>
        <div>
          {{ customer.first_name }} {{ customer.last_name }}
          <div class="opacity-50 type--small">
            {{ customer.email }}
          </div>
        </div>
      </div>
      <div class="flex py-4">
        <a 
          class="btn btn--smaller btn--plain"
          href="{{ routes.account_logout_url }}" >{{ 'actions.log_out' | t }}</a>
      </div>
    </div>
    
    {% comment %} Content {% endcomment %}
    <div class="pt-6">

      {% comment %} Tabs {% endcomment %}
      <nav 
        class="sticky top-0 z-10 flex flex-wrap border--b-width color__border-divider-1 color__bg-body">
        <div class="relative w-full pt-6">
          <div class="inline-flex w-full gap-6 overflow-x-auto whitespace-nowrap scroll-smooth snap-x">
            <div class="flex justify-center flex-none snap-start">
              <a
                class="pb-4 no-underline border-b-2 opacity-100 type--big color__border-selected-2">
                {{ 'labels.orders' | t }}
              </a>
            </div>
            <div class="flex justify-center flex-none snap-start">
              <a
                class="pb-4 no-underline border-b-2 opacity-50 type--big color__border-transparent"
                href="{{ routes.account_addresses_url }}">
                {{ 'labels.addresses' | t }}
              </a>
            </div>
          </div>
        </div>
      </nav>

      {% comment %} Orders {% endcomment %}
      <div>
        {% paginate customer.orders by 10 %}
          {% for order in customer.orders %}              
            {% render 'component__order-item', 
              order: order %}
          {% endfor %}
          {% render 'component__pagination-default', 
            paginate: paginate 
          %}
        {% endpaginate %}
      </div>

    </div>

  </div>
</section>